@model IEnumerable<MyFirstMvc.Models.ViewModels.Orders.MyOrder>

@section css{
    <link rel="stylesheet" href="~/css/Progress.css">
    <link rel="stylesheet" href="~/css/OrderHistory.css" />
}

<table class="table table-hover table-borderless">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.OrderNumber)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.OrderTime)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PaymentType)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Total)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.OrderStatus)
            </th>
            @*<th>
                @Html.DisplayNameFor(model => model.AllowCancel)
            </th>*@
            @*<th>
                @Html.DisplayNameFor(model => model.AllowModify)
            </th>*@
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr data-bs-toggle="collapse" data-bs-target="#order_@item.OrderNumber" aria-expanded="false">
                <td>
                    @Html.DisplayFor(modelItem => item.OrderNumber)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.OrderTime)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PaymentType)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Total)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.OrderStatus)
                </td>
                @*<td>
            @Html.DisplayFor(modelItem => item.AllowCancel)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.AllowModify)
        </td>*@
                
            </tr>
            <tr id="order_@item.OrderNumber" class="collapse">
                <td colspan="5">
                    <!-- 訂單詳細 -->
                    <table class="table table-borderless">
                        <thead>
                            <tr>
                                <th>房型</th>
                                <th>入住日</th>
                                <th>退房日</th>
                                <th>天數</th>
                                <th>小計</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var items in item.OrderItems)
                            {
                                <tr>
                                    <td>@items.RoomType</td>
                                    <td>@items.CheckInDate</td>
                                    <td>@items.CheckOutDate</td>
                                    <td>@items.Days</td>
                                    <td>@items.SubTotal</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </td>
            </tr>
        }
    </tbody>
</table>

<!--頁面切換-->
<!-- <nav aria-label="Page navigation example"> -->
<ul class="pagination">
    <li class="page-item">
        <a class="page-link" href="#" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
        </a>
    </li>
    <li class="page-item"><a class="page-link" href="#">1</a></li>
    <li class="page-item"><a class="page-link" href="#">2</a></li>
    <li class="page-item"><a class="page-link" href="#">3</a></li>
    <li class="page-item">
        <a class="page-link" href="#" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
        </a>
    </li>
</ul>
<!-- </nav> -->
<!--頁面切換-->